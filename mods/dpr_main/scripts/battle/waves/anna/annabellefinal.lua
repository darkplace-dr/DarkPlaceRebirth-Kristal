local Basic, super = Class(Wave)

function Basic:init()
    super.init(self)
    self.animation = self:getAttackers()[1]
    self:setArenaSize(660, 500)
    self:setArenaOffset(0, 70)
	self.time = 7
end

function Basic:onStart()
    self:spawnBullet("annabelle/soulmarker", 320, 170, math.rad(180), 0)
    self:spawnBullet("annabelle/soulmarker", 320, 120, math.rad(180), 0)
    self:spawnBullet("annabelle/soulmarker", 320, 220, math.rad(180), 0)
    self:spawnBullet("annabelle/soulmarker", 370, 170, math.rad(180), 0)
    self:spawnBullet("annabelle/soulmarker", 370, 120, math.rad(180), 0)
    self:spawnBullet("annabelle/soulmarker", 370, 220, math.rad(180), 0)
    self:spawnBullet("annabelle/soulmarker", 270, 170, math.rad(180), 0)
    self:spawnBullet("annabelle/soulmarker", 270, 120, math.rad(180), 0)
    self:spawnBullet("annabelle/soulmarker", 270, 220, math.rad(180), 0)
    self:spawnBullet("blackhole", 320, 170, math.rad(180), 0)
    self.timer:script(function(wait)
        self:spawnBullet("annabelle/arrow_final", 660, 170, math.rad(180), 10)
        self:spawnBullet("annabelle/arrow_final", 660, -170, math.rad(135), 14)
        self:spawnBullet("annabelle/arrow_final", 660, 510, math.rad(225), 14)
        wait(0.6)
        self:spawnBullet("annabelle/arrow_final", 320, 510, math.rad(270), 10)
        self:spawnBullet("annabelle/arrow_final", -20, 510, math.rad(315), 14)
        self:spawnBullet("annabelle/arrow_final", 660, 510, math.rad(225), 14)
        wait(0.5)
        self:spawnBullet("annabelle/arrow_final", -20, -170, math.rad(45), 14)
        self:spawnBullet("annabelle/arrow_final", -20, 170, math.rad(0), 10)
        self:spawnBullet("annabelle/arrow_final", -20, 510, math.rad(315), 14)
        wait(0.4)
        self:spawnBullet("annabelle/arrow_final", 320, -170, math.rad(90), 10)
        self:spawnBullet("annabelle/arrow_final", 660, -170, math.rad(135), 14)
        self:spawnBullet("annabelle/arrow_final", -20, -170, math.rad(45), 14)
        wait(0.6)
        self:spawnBullet("annabelle/arrow_final", 660, 170, math.rad(180), 10)
        self:spawnBullet("annabelle/arrow_final", -20, 170, math.rad(0), 10)
        self:spawnBullet("annabelle/arrow_final", 320, -170, math.rad(90), 10)
        self:spawnBullet("annabelle/arrow_final", 320, 510, math.rad(270), 10)
        wait(0.5)
        self:spawnBullet("annabelle/arrow_final", -20, -170, math.rad(45), 14)
        self:spawnBullet("annabelle/arrow_final", 660, -170, math.rad(135), 14)
        self:spawnBullet("annabelle/arrow_final", 660, 510, math.rad(225), 14)
        self:spawnBullet("annabelle/arrow_final", -20, 510, math.rad(315), 14)
        wait(0.8)
        self:spawnBullet("annabelle/arrow_final", 660, 170, math.rad(180), 10)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 660, 510, math.rad(225), 14)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 320, 510, math.rad(270), 10)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", -20, 510, math.rad(315), 14)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", -20, 170, math.rad(0), 10)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", -20, -170, math.rad(45), 14)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 320, -170, math.rad(90), 10)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 660, -170, math.rad(135), 14)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 660, 170, math.rad(180), 10)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 660, 510, math.rad(225), 14)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 320, 510, math.rad(270), 10)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", -20, 510, math.rad(315), 14)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", -20, 170, math.rad(0), 10)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", -20, -170, math.rad(45), 14)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 320, -170, math.rad(90), 10)
        wait(0.1)
        self:spawnBullet("annabelle/arrow_final", 660, -170, math.rad(135), 14)
        wait(0.8)
        self:spawnBullet("annabelle/arrow_final", 660, 170, math.rad(180), 10)
        self:spawnBullet("annabelle/arrow_final", -20, 170, math.rad(0), 10)
        self:spawnBullet("annabelle/arrow_final", 320, -170, math.rad(90), 10)
        self:spawnBullet("annabelle/arrow_final", 320, 510, math.rad(270), 10)
        self:spawnBullet("annabelle/arrow_final", -20, -170, math.rad(45), 14)
        self:spawnBullet("annabelle/arrow_final", 660, -170, math.rad(135), 14)
        self:spawnBullet("annabelle/arrow_final", 660, 510, math.rad(225), 14)
        self:spawnBullet("annabelle/arrow_final", -20, 510, math.rad(315), 14)
        
    end)
end

function Basic:onEnd()
    self.animation.sprite:set("idle")
end

function Basic:update()
    -- Code here gets called every frame

    super.update(self)
end

return Basic